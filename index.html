-<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />
  <title>Document</title>
</head>
<body style="background-color: #4a1c40">
  <div class="game">
    <div class="grid">
      <button onclick="move(1)" id="btn1">1</button>
      <button onclick="move(2)" id="btn2">2</button>
      <button onclick="move(3)" id="btn3">3</button>
      <button onclick="move(4)" id="btn4">4</button>
      <button onclick="move(5)" id="btn5">5</button>
      <button onclick="move(6)" id="btn6">6</button>
      <button onclick="move(7)" id="btn7">7</button>
      <button onclick="move(8)" id="btn8">8</button>
      <button onclick="move(9)" id="btn9"></button>
      
    </div>

    <div class="footer">
      <button onclick="newGame()">New Game</button>
      <button>Replay</button>
      <div>
        <span>Move: 100</span>
        <span>Time: 100</span>
      </div>

      <div>
        <button id="solution">I need Solution</button>
        <button>Back</button>
        <button>Next</button>
      </div>
      
    </div>
  </div>
<script
  src="https://code.jquery.com/jquery-3.4.1.min.js"
></script>
<script>
  
  var startState = [];
  function newGame () {
      startState = shuffleMatrix();
      console.log(startState);
      updateState(startState);
  }

  function shuffleMatrix() {
    var arr = [0];
    while (arr.length <= 9) {
      var r = Math.floor(Math.random() * 9) + 1;
      if (arr.indexOf(r) === -1) arr.push(r);
    }
  //  arr.push(9);
    return arr;
  }

  function updateState( state ) {
    state.forEach( function (eachElement,index) {
      if (eachElement == 9) {
        $(`#btn${index}`).text('');
      } else $(`#btn${index}`).text(eachElement);
    });
  }


  function move(id) {
    var stringID = `#btn${id}`;
    var buttonElement = document.querySelector(stringID.toString());
    buttonElement.innerHTML = '';
    buttonElement.id = stringID;
    var spaceElement = document.querySelector('#space');
    spaceElement.innerHTML = `${id}`;
    spaceElement.id = `space`;
  }

  $('#solution').click( function () {
    console.log (startState);
    var state = JSON.stringify(startState);
    var answer = [];
    console.log(state);
    $.ajax({
      type: 'get',
      url: 'astar_solver.php',
      data: {'startState': state},
      success: function (response) {
        $('#message').text(response);
        answer = JSON.parse ( response );
        answer = answer.map(function (currentObj) {
          var mapArray = Object.values(currentObj);
          mapArray.unshift(0);
          return mapArray;
        });
        console.log( answer);
      }
    })
  })
</script>
</body>
</html>